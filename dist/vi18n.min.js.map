{"version":3,"file":"vi18n.min.js","sources":["vi18n.js"],"names":["VI18N","locale","currency","isSupported","Error","this","formatters","months","days","decimalSeparator","thousandSeparator","locales","initialize","isObject","obj","Object","prototype","toString","call","constructor","number","window","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","percent","date","DateTimeFormat","getLocale","getCurrency","formatNumber","options","format","formatCurrency","formatPercent","formatDate","formatTime","hour","minute","second","getDecimalSeparator","charAt","getThousandSeparator","self","separator","isNaN","parseInt","getMonths","type","Date","UTC","i","setMonth","month","getDays","setUTCDate","push","weekday","get"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\n\r\n\t'use strict';\r\n\r\n\tvar locales = {},\r\n\t\tisObject = function(obj) {\r\n\t\t\t// http://stackoverflow.com/a/4320789\r\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Object]';\r\n\t\t};\r\n\r\n\tfunction VI18N(locale, currency) {\r\n\t\t// Fail fast when the Internationalization API isn't supported\r\n\t\tif (!VI18N.isSupported()) {\r\n\t\t\tthrow new Error('Internationalization API (window.Intl) not supported, did you forget to include a polyfill?');\r\n\t\t}\r\n\r\n\t\tlocale = locale || 'nl-NL';\r\n\t\tcurrency = currency || 'EUR';\r\n\r\n\t\tthis.locale = locale;\r\n\t\tthis.currency = currency;\r\n\t\tthis.formatters = {};\r\n\t\tthis.months = {};\r\n\t\tthis.days = {};\r\n\t\tthis.decimalSeparator = null;\r\n\t\tthis.thousandSeparator = null;\r\n\r\n\t\t// Keep track of this instance\r\n\t\tlocales[locale] = this;\r\n\r\n\t\tthis.initialize(locale, currency);\r\n\t}\r\n\r\n\tVI18N.prototype = {\r\n\r\n\t\tconstructor: VI18N,\r\n\r\n\t\tinitialize: function(locale, currency) {\r\n\t\t\tthis.formatters.number = new window.Intl.NumberFormat(locale);\r\n\t\t\tthis.formatters.currency = new window.Intl.NumberFormat(locale, { style: 'currency', currency: currency, minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n\t\t\tthis.formatters.percent = new window.Intl.NumberFormat(locale, { style: 'percent', maximumFractionDigits: 0 });\r\n\t\t\tthis.formatters.date = new window.Intl.DateTimeFormat(locale);\r\n\t\t},\r\n\r\n\t\tgetLocale: function() {\r\n\t\t\treturn this.locale;\r\n\t\t},\r\n\r\n\t\tgetCurrency: function() {\r\n\t\t\treturn this.currency;\r\n\t\t},\r\n\r\n\t\t// Format a number to a locale string\r\n\t\t// For more information see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\r\n\t\tformatNumber: function(number, options) {\r\n\t\t\treturn isObject(options) ? new this.formatters.number.constructor(this.getLocale(), options).format(number) : this.formatters.number.format(number);\r\n\t\t},\r\n\r\n\t\t// Format a number to a locale currency string\r\n\t\t// For more information see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\r\n\t\tformatCurrency: function(number, currency) {\r\n\t\t\tif (currency && typeof currency === 'string') {\r\n\t\t\t\treturn new this.formatters.currency.constructor(this.getLocale(), { style: 'currency', currency: currency, minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(number);\r\n\t\t\t} else if (currency === false) {\r\n\t\t\t\treturn this.formatNumber(number, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n\t\t\t}\r\n\r\n\t\t\treturn this.formatters.currency.format(number);\r\n\t\t},\r\n\r\n\t\tformatPercent: function(number, options) {\r\n\t\t\tif (isObject(options)) {\r\n\t\t\t\toptions.style = 'percent';\r\n\r\n\t\t\t\treturn new this.formatters.percent.constructor(this.getLocale(), options).format(number);\r\n\t\t\t}\r\n\r\n\t\t\treturn this.formatters.percent.format(number);\r\n\t\t},\r\n\r\n\t\t// Format a date object to a locale string\r\n\t\t// For more information see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\r\n\t\tformatDate: function(date, options) {\r\n\t\t\treturn isObject(options) ? new this.formatters.date.constructor(this.getLocale(), options).format(date) : this.formatters.date.format(date);\r\n\t\t},\r\n\r\n\t\tformatTime: function(date) {\r\n\t\t\treturn this.formatDate(date, { hour: '2-digit', minute: '2-digit',\tsecond: '2-digit' });\r\n\t\t},\r\n\r\n\t\t// Assume it is always one character\r\n\t\t// https://en.wikipedia.org/wiki/Decimal_mark\r\n\t\tgetDecimalSeparator: function() {\r\n\t\t\treturn this.decimalSeparator || (this.decimalSeparator = this.formatNumber(1.1).charAt(1));\r\n\t\t},\r\n\r\n\t\tgetThousandSeparator: function() {\r\n\t\t\treturn this.thousandSeparator || (this.thousandSeparator = (function(self) {\r\n\t\t\t\t\t\tvar separator = self.formatNumber(1000).charAt(1);\r\n\r\n\t\t\t\t\t\t// When the separator is not a number (e.g. the decimal point in '1.000')\r\n\t\t\t\t\t\t// return the separator, otherwise return an empty string\r\n\t\t\t\t\t\treturn isNaN(parseInt(separator, 10)) ? separator : '';\r\n\r\n\t\t\t\t\t})(this));\r\n\t\t},\r\n\r\n\t\tgetMonths: function(type) {\r\n\t\t\ttype = type || 'long';\r\n\r\n\t\t\treturn this.months[type] || (this.months[type] = (function(self) {\r\n\t\t\t\t\t\tvar date = new Date(Date.UTC(2015, 0, 1)),\r\n\t\t\t\t\t\t\tmonths = [],\r\n\t\t\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\t\t\tfor (; i < 12; i++) {\r\n\t\t\t\t\t\t\tdate.setMonth(i);\r\n\t\t\t\t\t\t\tmonths[i] = self.formatDate(date, { month: type });\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn months;\r\n\r\n\t\t\t\t\t})(this));\r\n\t\t},\r\n\r\n\t\tgetDays: function(type) {\r\n\t\t\ttype = type || 'long';\r\n\r\n\t\t\treturn this.days[type] || (this.days[type] = (function(self) {\r\n\t\t\t\t\t\tvar date = new Date(Date.UTC(1978, 0, 1)), // https://en.wikipedia.org/wiki/Common_year_starting_on_Sunday\r\n\t\t\t\t\t\t\tdays = [],\r\n\t\t\t\t\t\t\ti = 1;\r\n\r\n\t\t\t\t\t\tfor (; i <= 7; i++) {\r\n\t\t\t\t\t\t\tdate.setUTCDate(i);\r\n\t\t\t\t\t\t\tdays.push(self.formatDate(date, { weekday: type }));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn days;\r\n\r\n\t\t\t\t\t})(this));\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tVI18N.get = function(locale) {\r\n\t\treturn locales[locale];\r\n\t};\r\n\r\n\tVI18N.isSupported = function() {\r\n\t\treturn 'Intl' in window;\r\n\t};\n"]}